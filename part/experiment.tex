\section{Experiment}

\subsection{Evaluation metric}

% While we training and compute loss function for backpropagation on generated ground-truth density map,

From the predicted density map, we acquired predicted count by integral the density map over the whole image (i.e., sum the predicted density map matrix). Then from the predicted count and annotated count, compute Mean Absolutately Error (MAE), Mean Square Error (MSE) 

\begin{equation}M A E=\frac{1}{N} \sum_{i=1}^{N}\left|C_{i}^{e t}-C_{i}^{g t}\right|\end{equation}

\begin{equation}M S E=\sqrt{\frac{1}{N} \sum_{i=1}^{N}\left(C_{i}^{e t}-C_{i}^{g t}\right)^{2}}\end{equation}

\subsection{ShanghaiTech B}

Table \ref{tab:experiment-result} show experiment result and trainable parameter of our proposed method comparing to C-CNN. The increase in parameter size due to learnable affine parameters in batch normalization.  

\begin{table}[htbp]
\caption{\label{tab:experiment-result}  Experiment result}
\begin{center}
\begin{tabular}{|c|c|c|}
\hline
\textbf{}&\multicolumn{2}{|c|}{\textbf{ShanghaiTech Part B}}\\
\hline
\textbf{Model} & \textbf{\textit{MAE}}& \textbf{\textit{MSE}} \\
\hline
C-CNN & 14.9 & 22.1   \\
\hline
Ours & 12.2 & 21.9  \\
\hline

\end{tabular}

\end{center}
\end{table}


% % benchmark FPS
% \begin{table}[htbp]
% \caption{\label{tab:benchmark}  Benchmark}
% \begin{center}
% \begin{tabular}{|c|c|c|}
% \hline
% \textbf{}&\multicolumn{2}{|c|}{\textbf{ShanghaiTech B}} \\
% \hline
% \textbf{Model} & \textbf{\textit{Average time (seconds)}}& \textbf{\textit{FPS}} \\
% \hline
% C-CNN (authors) &   & 104.16    \\
% \hline
% C-CNN (our implementation) & 7.15 &  44.5    \\
% \hline
% Ours & 6.95 & 45.7 \\
% \hline
% % \multicolumn{3}{l}{$^{\mathrm{a}}$ Parameter size in our implementation.}
% \end{tabular}

% \end{center}
% \end{table}

\subsection{Benchmark}

% TODO average time, parameter size 
% we talk about resource consumption here

\begin{table}[htbp]
\caption{\label{tab:experiment-result}  Benchmark}
\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{}&\multicolumn{2}{|c|}{\textbf{ShanghaiTech Part B}}&\textbf{Parameter} \\
\cline{1-3}
\textbf{Model} & \textbf{\textit{ Average time (seconds) }}& \textbf{\textit{FPS}}&\textbf{Size} \\
\hline
C-CNN (authors) &  &  104.16 & 0.07M \\
\hline
C-CNN$^{\mathrm{a}}$  & 6.95482 & 45.72 & 72509   \\
\hline
Ours &  7.15093 & 44.47 & 73009 \\
\hline
\multicolumn{4}{l}{$^{\mathrm{a}}$ Our re-implementation of C-CNN}
\end{tabular}

\end{center}
\end{table}